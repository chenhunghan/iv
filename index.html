<html>
	<head>
		<title>IntraView</title>
        <link rel="stylesheet" type="text/css" href="lib/bootstrap-3.1.1.min.css">
        <link rel="stylesheet" type="text/css" href="lib/angular-motion.min.css">
        <link rel="stylesheet" type="text/css" href="timeline/timeline.css">
        <link rel="stylesheet" type="text/css" href="editor.css">
	</head>	
	<body 
		ng-app="app" 
		ng-controller="AppCtrl"
        ng-keydown="keyDown($event)"
        ng-keyup="keyUp($event)"
        ng-right-click
		>

		<div>
		    <div>
                <div class="btn-group chart-controller">
                    <button
                        ng-click="addNewNode()"
                        title="Add a new node to the chart"
                        class="btn btn-default"
                        >
                        Add Node
                    </button>
                    <button
                            ng-click="addNewInputConnector()"
                            ng-disabled="chartViewModel.getSelectedNodes().length == 0"
                            title="Add a new input connector to the selected node"
                            class="btn btn-default btn"
                            >
                        Add Connector on Left
                    </button>
                    <button
                            ng-click="addNewOutputConnector()"
                            ng-disabled="chartViewModel.getSelectedNodes().length == 0"
                            title="Add a new output connector to the selected node"
                            class="btn btn-default btn"
                            >
                        Add Connector on Right
                    </button>
                    <button
                            ng-click="deleteSelected()"
                            ng-disabled="chartViewModel.getSelectedNodes().length == 0 && chartViewModel.getSelectedConnections().length == 0"
                            title="Delete selected nodes and connections"
                            class="btn btn-default btn"
                            >
                        Delete
                    </button>
                </div>

                <div class="right-panel">
                    <label>Device List</label>
                    <table class="table table-bordered table-hover table-condensed nodelist">
                        <tbody>
                        <tr
                                ng-repeat="node in chartViewModel.nodes track by $index"

                                >
                            <td>
                                <!--
                                <input type="button"
                                       class="btn btn-default btn-xs nodelistbtn"
                                       ng-mousedown="nodelistMouseDown($event, node)"
                                       ng-disabled="nodeExistOnChart(node)"
                                       value="+"
                                        >
                                -->
                                <span ng-mousedown="nodelistMouseDown($event, node)">{{node.data.name}}</span>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <label>Syslog List</label>
                    <table class="table table-bordered table-hover table-condensed syslog-list">
                        <thead>
                            <tr>
                                <th>
                                   IP
                                </th>
                                <th>
                                   msg
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="value in dataByIP">
                                <td>
                                    {{value.hostip}} at
                                    <span class="label label-default label-time">{{value.edatetime}}</span>
                                </td>
                                <td>
                                    {{value.category}} is {{value.strvalue}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <label>Testing Buttons</label>
                    <ul class="testbtns">
                        <li>
                            <input type="button"
                                   class="btn btn-default btn-xs"
                                   value='random_connectiondown'
                                   ng-click="random_connectiondown()">
                        </li>
                        <li>
                            <input type="button"
                                   class="btn btn-default btn-xs"
                                   value='random_connectionblock'
                                   ng-click="random_connectionblock()">
                        </li>
                        <li>
                            <input type="button"
                                   class="btn btn-default btn-xs"
                                   value='random_node_warning'
                                   ng-click="random_nodewarn()">
                        </li>
                        <li>
                            <input type="button"
                                   class="btn btn-default btn-xs"
                                   value='random_nodedown'
                                   ng-click="random_nodedown()">
                        </li>
                        <li>
                            <input type="button"
                                   class="btn btn-default btn-xs"
                                   value='random_portdown'
                                   ng-click="random_portdown()">
                        </li>
                    </ul>
                </div>

                <div mouse-capture>

                    <flow-chart
                        chart="chartViewModel"
                        >

                    </flow-chart>
                    <timeline
                            chart="chartViewModel"
                            >
                    </timeline>
                </div>

		    </div>
		</div>

		<!-- Library code. -->
		<script src="lib/jquery-2.1.0.min.js" type="text/javascript"></script>
		<script src="lib/angular-1.2.16.min.js" type="text/javascript"></script>
        <script src="lib/angular-animate-1.2.16.min.js" type="text/javascript"></script>
        <script src="lib/angular-strap-2.0.2.min.js" type="text/javascript"></script>
        <script src="lib/angular-strap-2.0.2.tpl.min.js" type="text/javascript"></script>
        <script src="lib/d3-3.4.6.min.js" type="text/javascript"></script>

		<!-- Flowchart code. -->
		<script src="flowchart/mouse_capture_service.js" type="text/javascript"></script>
		<script src="flowchart/drag_service.js" type="text/javascript"></script>
        <script src="modal/modal_service.js" type="text/javascript"></script>

        <script src="flowchart/flowchart_datamodel.js" type="text/javascript"></script>
		<script src="flowchart/flowchart_controller.js" type="text/javascript"></script>

        <!--Topology Related. -->
        <script src="flowchart/topo_algorithm_service.js" type="text/javascript"></script>

        <!--Syslog Service -->
        <script src="syslogservice/syslogservice.js" type="text/javascript"></script>

        <!--Timeline -->
        <script src="lib/timeline.js" type="text/javascript"></script>
        <script src="timeline/timeline_directive.js" type="text/javascript"></script>

		<!-- App code. -->
		<script src="app.js" type="text/javascript"></script>
	</body>
</html>